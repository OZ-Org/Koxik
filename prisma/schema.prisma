generator client {
  provider = "prisma-client"
  output   = "../src/generated/prisma"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  discord_id       String    @unique
  balance          Int       @default(0)
  backpack         Json?
  level            Int       @default(1)
  xp               Int       @default(0)
  achievements     Json?
  badges           Json?
  bank             Int?
  mining_resources Json?
  lastDaily        DateTime?
  createdAt        DateTime  @default(now())
  transactions     Json?
  datingWith       String?    @unique
  marriedWith      String?    @unique
  configs          Json?
}

model CommandStat {
  id         Int      @id @default(autoincrement())
  date       DateTime
  command    String
  subcommand String? // pode ser null
  count      Int      @default(0)

  @@unique([date, command, subcommand], name: "date_command_sub")
}
